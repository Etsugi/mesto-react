{"version":3,"sources":["components/Header.js","components/contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProflePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","ConfirmButtonContext","Card","props","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","alt","name","src","link","onCardLike","type","likeCounter","onConfirm","Main","avatar","onEditAvatar","onEditProfile","id","about","onAddPlace","cards","map","length","now","Date","getFullYear","Footer","ImagePopup","onClose","api","config","this","_url","baseUrl","_headers","headers","fetch","method","then","res","_getResponseData","data","body","JSON","stringify","cardId","disLikeCard","likeCard","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","buttonContext","useState","setName","description","setDescription","setButtonText","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","defaultValue","AddPlacePopup","setTitle","setLink","ConfirmPopup","App","setButtonContext","currentUser","setCurrentUser","getUserInfo","document","querySelector","classList","remove","catch","err","alert","setCards","getCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","confirmElement","setConfirmElement","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","userData","updateUserInfo","updateUserAvatar","addCard","concat","deleteCard","filter","item","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12fd1336.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\nexport const ConfirmButtonContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === user._id;\r\n  const cardDeleteButtonClassName = (`element__trash-button ${isOwn ? '' : 'element__trash-button-disabled'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === user._id);\r\n  const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : ''}`);  \r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onConfirm(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <img onClick={handleClick} className=\"element__image\" alt={props.card.name} src={props.card.link} />\r\n      <div className=\"element__group\">\r\n        <p className=\"element__text\">{props.card.name}</p>\r\n        <button onClick={handleLikeClick} type=\"button\" className={cardLikeButtonClassName}>\r\n          <p className=\"element__like-counter\">{props.likeCounter}</p>\r\n        </button>\r\n      </div>\r\n      <button onClick={handleDeleteClick} type=\"button\" className={cardDeleteButtonClassName}></button>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className=\"content content-disabled\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img className=\"profile__avatar-image\" alt=\"Фото профиля\" src={`${user.avatar}`} />\r\n          <button type=\"button\" onClick={props.onEditAvatar} className=\"profile__avatar-update-button\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-group\">\r\n            <h1 className=\"profile__name\">{user.name}</h1>\r\n            <button type=\"button\" onClick={props.onEditProfile} className=\"profile__edit-button\" id=\"edit-profile\" />\r\n          </div>\r\n          <p className=\"profile__description\">{user.about}</p>\r\n        </div>\r\n        <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\" id=\"add-card\" />\r\n      </section>\r\n      <section className=\"elements\" id=\"elements\">\r\n        {props.cards.map(card => \r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            likeCounter={card.likes.length}\r\n            onCardLike={props.onCardLike}\r\n            onConfirm={props.onConfirm}\r\n          />        \r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","let now = new Date().getFullYear();\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {now} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`} id={props.name}>\r\n        <div className=\"popup__image-container\">\r\n          <img className=\"popup__image\" alt={props.card.name} src={`${props.card.link}`} />\r\n          <p className=\"popup__image-description\">{props.card.name}</p>\r\n          <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n        <div onClick={props.onClose} className=\"popup__overlay popup__overlay_for-image\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\n  constructor (config) {\n    this._url = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if(isLiked) {\n      return this.disLikeCard(cardId);\n    }\n    else {\n      return this.likeCard(cardId);\n    }\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  disLikeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    else return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  /*getAllData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }*/\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'a3935a49-8230-429f-9fab-7d2d6f416793',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n        <form onSubmit={props.onSubmit} className=\"popup__form\" name={props.name} noValidate>\r\n          <h2 className=\"popup__form-heading\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\r\n          <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\" />\r\n        </form>\r\n        <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext, ConfirmButtonContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  let buttonContext = React.useContext(ConfirmButtonContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]); \r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n    setButtonText('Сохранить');\r\n  }, [buttonContext]); \r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-profile\"\r\n        title=\"Редактировать профиль\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleNameChange} value={name || ``} type=\"text\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\r\n            className=\"popup__input popup__input_name\" required />\r\n          <span className='popup__input_error' id='name-input-error'></span>\r\n          <input onChange={handleDescriptionChange} value={description || ``} type=\"text\" name=\"about\" placeholder=\"Описание\" minLength=\"2\" maxLength=\"200\"\r\n            className=\"popup__input popup__input_description\" required />\r\n          <span className='popup__input_error' id='about-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { ConfirmButtonContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n  let buttonContext = React.useContext(ConfirmButtonContext);\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n    setButtonText('Сохранить');\r\n  }, [buttonContext]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-avatar-profile\"\r\n        title=\"Обновить аватар\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input ref={avatarRef} defaultValue='' type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='avatar-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { ConfirmButtonContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction AddPlacePopup(props) {\r\n  let buttonContext = React.useContext(ConfirmButtonContext);\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n    setButtonText('Создать');\r\n  }, [buttonContext]); \r\n\r\n  function handleSetTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n  function handleSetLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onAddPlace({\r\n      name: title,\r\n      link\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"add-card\"\r\n        title=\"Новое место\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleSetTitle} value={title} type=\"text\" name=\"title\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\r\n            className=\"popup__input popup__input_title\" required />\r\n          <span className='popup__input_error' id='title-input-error'></span>\r\n          <input onChange={handleSetLink} value={link} type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='source-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { ConfirmButtonContext } from './contexts/CurrentUserContext.js';\r\n\r\nfunction ConfirmPopup(props) {\r\n  let buttonContext = React.useContext(ConfirmButtonContext);\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setButtonText('Да');\r\n  }, [buttonContext]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onConfirm();\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"confirm\"\r\n        title=\"Вы уверены?\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from '../utils/Api.js';\nimport { CurrentUserContext, ConfirmButtonContext } from './contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProflePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmPopup from './ConfirmPopup.js';\n\nfunction App() {\n  let [buttonContext, setButtonContext] = React.useState('');\n  const [currentUser, setCurrentUser] = React.useState('');\n  React.useEffect(() => {\n    const initialCurrentUser = api.getUserInfo();\n    initialCurrentUser.then((data => {\n      const userData = data;\n      setCurrentUser(userData);\n      })\n    )\n    .then(() => {\n      document.querySelector('.content').classList.remove('content-disabled');\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    const initialCard = api.getCards();\n    initialCard.then((data => {\n      const card = data;\n      setCards(card);\n      })\n    )\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [confirmElement, setConfirmElement] = React.useState('');\n\n  function clickEditProfilePopupOpen() {\n    setButtonContext('Сохранить');\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);    \n  };\n  function clickEditAvatarPopupOpen() {\n    setButtonContext('Сохранить');\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  function clickAddPlacePopupOpen() {\n    setButtonContext('Создать');\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n  function clickImagePopupOpen(card) {\n    setSelectedCard(card);\n  }\n  function clickConfirmPopupOpen(card) {\n    setButtonContext('Да');\n    setConfirmElement(card);\n    setConfirmPopupOpen(!isConfirmPopupOpen);\n  }\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setSelectedCard('');\n    setConfirmElement('');\n    setButtonContext('');\n  }\n\n  function handleUpdateUser(userData) {\n    api.updateUserInfo(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleUpdateAvatar(userData) {\n    api.updateUserAvatar(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleConfirm() {\n    handleCardDelete(confirmElement);\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card).then(() => {\n      const newCards = cards.filter((item) => !(item._id === card._id));\n      setCards(newCards);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleAddPlace(card) {\n    api.addCard(card).then((card) => {\n      const newCards = cards.concat(card);\n      setCards(newCards);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n \n  return (\n    <CurrentUserContext.Provider value={currentUser} >\n      <Header />\n      <Main\n       onEditProfile={clickEditProfilePopupOpen}\n       onEditAvatar={clickEditAvatarPopupOpen}\n       onAddPlace={clickAddPlacePopupOpen}\n       onConfirm={clickConfirmPopupOpen}\n       cards={cards}\n       onCardClick={clickImagePopupOpen}\n       onCardLike={handleCardLike}\n       >\n      </Main> \n      <Footer />\n\n      <ConfirmButtonContext.Provider value={buttonContext} >\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen} \n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n        <ConfirmPopup\n          isOpen={isConfirmPopupOpen} \n          onClose={closeAllPopups}\n          onConfirm={handleConfirm}\n        />\n      </ConfirmButtonContext.Provider>\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      >\n      </ImagePopup> \n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}