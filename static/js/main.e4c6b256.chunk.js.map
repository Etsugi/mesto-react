{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProflePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","alt","name","src","link","onCardLike","type","likeCounter","onConfirm","Main","profile","avatar","onEditAvatar","onEditProfile","id","about","onAddPlace","cards","map","length","now","Date","getFullYear","Footer","ImagePopup","onClose","api","config","this","_url","baseUrl","_headers","headers","fetch","method","then","res","_getResponseData","data","body","JSON","stringify","cardId","disLikeCard","likeCard","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","setButtonText","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","defaultValue","AddPlacePopup","setTitle","setLink","ConfirmPopup","App","currentUser","setCurrentUser","getUserInfo","setProfile","catch","err","alert","setCards","getCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","confirmElement","setConfirmElement","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","userData","updateUserInfo","updateUserAvatar","addCard","deleteCard","filter","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4c6b256.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === user._id;\r\n  const cardDeleteButtonClassName = (`element__trash-button ${isOwn ? '' : 'element__trash-button-disabled'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === user._id);\r\n  const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : ''}`);  \r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onConfirm(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <img onClick={handleClick} className=\"element__image\" alt={props.card.name} src={props.card.link} />\r\n      <div className=\"element__group\">\r\n        <p className=\"element__text\">{props.card.name}</p>\r\n        <button onClick={handleLikeClick} type=\"button\" className={cardLikeButtonClassName}>\r\n          <p className=\"element__like-counter\">{props.likeCounter}</p>\r\n        </button>\r\n      </div>\r\n      <button onClick={handleDeleteClick} type=\"button\" className={cardDeleteButtonClassName}></button>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className={props.profile}>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img className=\"profile__avatar-image\" alt=\"Фото профиля\" src={`${user.avatar}`} />\r\n          <button type=\"button\" onClick={props.onEditAvatar} className=\"profile__avatar-update-button\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-group\">\r\n            <h1 className=\"profile__name\">{user.name}</h1>\r\n            <button type=\"button\" onClick={props.onEditProfile} className=\"profile__edit-button\" id=\"edit-profile\" />\r\n          </div>\r\n          <p className=\"profile__description\">{user.about}</p>\r\n        </div>\r\n        <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\" id=\"add-card\" />\r\n      </section>\r\n      <section className=\"elements\" id=\"elements\">\r\n        {props.cards.map(card => \r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            likeCounter={card.likes.length}\r\n            onCardLike={props.onCardLike}\r\n            onConfirm={props.onConfirm}\r\n          />        \r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","const now = new Date().getFullYear();\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {now} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`} id={props.name}>\r\n        <div className=\"popup__image-container\">\r\n          <img className=\"popup__image\" alt={props.card.name} src={`${props.card.link}`} />\r\n          <p className=\"popup__image-description\">{props.card.name}</p>\r\n          <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n        <div onClick={props.onClose} className=\"popup__overlay popup__overlay_for-image\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\n  constructor (config) {\n    this._url = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if(isLiked) {\n      return this.disLikeCard(cardId);\n    }\n    else {\n      return this.likeCard(cardId);\n    }\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  disLikeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    else return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  /*getAllData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }*/\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'a3935a49-8230-429f-9fab-7d2d6f416793',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n        <form onSubmit={props.onSubmit} className=\"popup__form\" name={props.name} noValidate>\r\n          <h2 className=\"popup__form-heading\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\r\n          <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\" />\r\n        </form>\r\n        <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]); \r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]); \r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-profile\"\r\n        title=\"Редактировать профиль\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleNameChange} value={name || ``} type=\"text\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\r\n            className=\"popup__input popup__input_name\" required />\r\n          <span className='popup__input_error' id='name-input-error'></span>\r\n          <input onChange={handleDescriptionChange} value={description || ``} type=\"text\" name=\"about\" placeholder=\"Описание\" minLength=\"2\" maxLength=\"200\"\r\n            className=\"popup__input popup__input_description\" required />\r\n          <span className='popup__input_error' id='about-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-avatar-profile\"\r\n        title=\"Обновить аватар\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input ref={avatarRef} defaultValue='' type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='avatar-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n    setButtonText('Создать');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSetTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n  function handleSetLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onAddPlace({\r\n      name: title,\r\n      link\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"add-card\"\r\n        title=\"Новое место\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleSetTitle} value={title} type=\"text\" name=\"title\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\r\n            className=\"popup__input popup__input_title\" required />\r\n          <span className='popup__input_error' id='title-input-error'></span>\r\n          <input onChange={handleSetLink} value={link} type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='source-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction ConfirmPopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setButtonText('Да');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onConfirm();\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"confirm\"\r\n        title=\"Вы уверены?\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProflePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmPopup from './ConfirmPopup.js';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState('');\n  React.useEffect(() => {\n    const initialCurrentUser = api.getUserInfo();\n    initialCurrentUser.then((data => {\n      const userData = data;\n      setCurrentUser(userData);\n      })\n    )\n    .then(() => {\n      setProfile('content');\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    const initialCard = api.getCards();\n    initialCard.then((data => {\n      const card = data;\n      setCards(card);\n      })\n    )\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [profile, setProfile] = React.useState('content content-disabled');\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [confirmElement, setConfirmElement] = React.useState('');\n\n  function clickEditProfilePopupOpen() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);    \n  };\n  function clickEditAvatarPopupOpen() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  function clickAddPlacePopupOpen() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n  function clickImagePopupOpen(card) {\n    setSelectedCard(card);\n  }\n  function clickConfirmPopupOpen(card) {\n    setConfirmElement(card);\n    setConfirmPopupOpen(!isConfirmPopupOpen);\n  }\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setSelectedCard('');\n    setConfirmElement('');\n  }\n\n  function handleUpdateUser(userData) {\n    api.updateUserInfo(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleUpdateAvatar(userData) {\n    api.updateUserAvatar(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleConfirm() {\n    handleCardDelete(confirmElement);\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card).then(() => {\n      const newCards = cards.filter((item) => !(item._id === card._id));\n      setCards(newCards);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleAddPlace(card) {\n    api.addCard(card).then((card) => {\n      setCards([card, ...cards]);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n \n  return (\n    <CurrentUserContext.Provider value={currentUser} >\n      <Header />\n      <Main\n       profile={profile}\n       onEditProfile={clickEditProfilePopupOpen}\n       onEditAvatar={clickEditAvatarPopupOpen}\n       onAddPlace={clickAddPlacePopupOpen}\n       onConfirm={clickConfirmPopupOpen}\n       cards={cards}\n       onCardClick={clickImagePopupOpen}\n       onCardLike={handleCardLike}\n       >\n      </Main> \n      <Footer />\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup \n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n      <ConfirmPopup\n        isOpen={isConfirmPopupOpen} \n        onClose={closeAllPopups}\n        onConfirm={handleConfirm}\n      />\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      >\n      </ImagePopup> \n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}